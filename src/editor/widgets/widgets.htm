<template id="widgets">
    <section class="ge ge-widgets">
        <table class="table table-striped table-condensed">
            <thead>
                <tr>
                    <th style="width: 75%" colspan="4">Children</th>
                    <th>
                        <div class="pull-right" v-if="options.length">
                            <a class="btn btn-xs btn-primary" @click="create(options[0])" v-if="options.length == 1">Add</a>
                            <div class="btn-group" v-if="options.length > 1">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                    Add <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li v-for="o in options"><a href="#" @click.stop.prevent="create(o)">{{ o.title }}</a></li>
                                </ul>
                            </div>
                        </div>
                    </th>
                </tr>
            </thead>
            <tbody class="vertical">
                <tr v-for="(widget, index) in widgets" :data-uuid="widget.uuid" :key="widget.uuid">
                    <td><span class="ge ge-drag-handle"></span></td>
                    <td>{{ index + 1 }}</td>
                    <td><span class="label label-primary" :style="{ 'opacity': widget.designer.hidden ? '0.5' : '1' }">{{ widget.uuid }}</span></td>
                    <td><small :style="{ 'opacity': widget.designer.hidden ? '0.5' : '1' }">{{ widget.name }}</small></td>
                    <td>
                        <div class="pull-right">
                            <a class="btn btn-xs btn-default" @click.stop="toggle(widget)">
                                <span class="glyphicon glyphicon-eye-close" v-if="widget.designer.hidden"></span>
                                <span class="glyphicon glyphicon-eye-open" v-if="!widget.designer.hidden"></span>
                            </a>
                            <a class="btn btn-xs btn-default" @click="update(widget)">Edit</a>
                            <a class="btn btn-xs btn-danger" @click="remove(widget)">Remove</a>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </section>
</template>
